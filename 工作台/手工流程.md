## 手工流程
1. 描述：根据传入的nodeType类型进行手工处理
2. 流程：
   - 验证nodeType有效性：
     * 查询nodeconfig表检查传入的nodeType是否存在
     * 如果不存在则提示错误"无效的节点类型"
   - 任务处理逻辑：
     * 根据业务ID+任务类型查询是否存在现有任务
     * 如果不存在任务：
       + 新建任务实例
       + 新增传入的节点作为起始节点并标记为"已完成"
       + 分配下一节点（遵循通用权限分配规则）
       + 标记下一节点为"处理中"
       + 设置任务状态为"处理中"
     * 如果存在任务：
       + 检查现有任务的待处理节点是否与传入节点一致
       + 如果一致：
         - 修改当前节点状态为"已完成"
       + 如果不一致：
         - 删除当前待处理节点
         - 新增传入的节点类型节点并标记为"已完成"
       + 分配下一节点（遵循通用权限分配规则）
       + 标记下一节点为"处理中"
       + 更新任务状态为"处理中"
   - 记录操作人和操作时间

## 流程图
```mermaid
sequenceDiagram
    participant User as 用户
    participant System as 系统
    participant Database as 数据库

    User->>System: 发起手工处理(nodeType, 业务ID)
    
    %% 1. 验证nodeType有效性
    System->>Database: 查询nodeconfig表检查nodeType是否存在
    alt nodeType无效
        Database-->>System: 不存在
        System-->>User: 返回错误: "无效的节点类型"
    else nodeType有效
        Database-->>System: 存在
        
        %% 2. 任务处理逻辑
        System->>Database: 根据业务ID+任务类型查询任务
        
        alt 任务不存在
            Database-->>System: 未找到任务
            System->>System: 新建任务实例
            System->>Database: 新增起始节点(传入的nodeType)并标记为"已完成"
            System->>System: 分配下一节点 (通用权限规则)
            System->>Database: 标记下一节点为"处理中"
            System->>Database: 设置任务状态为"处理中"
        else 任务已存在
            Database-->>System: 返回现有任务
            
            alt 待处理节点与传入节点一致
                System->>Database: 修改当前节点状态为"已完成"
            else 待处理节点与传入节点不一致
                System->>Database: 删除当前待处理节点
                System->>Database: 新增传入的节点并标记为"已完成"
            end
            
            System->>System: 分配下一节点 (通用权限规则)
            System->>Database: 标记下一节点为"处理中"
            System->>Database: 更新任务状态为"处理中"
        end
        
        %% 3. 记录操作日志
        System->>Database: 记录操作人和操作时间
        System-->>User: 返回成功
    end

```
